<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ¦ž Stock Research</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ¦ž Stock Research</h1>
            <form id="searchForm">
                <input 
                    type="text" 
                    id="tickerInput" 
                    placeholder="Enter ticker (e.g., AAPL)" 
                    autocomplete="off"
                >
                <button type="submit" id="searchBtn">Search</button>
            </form>
        </header>

        <main id="main">
            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>Loading...</p>
            </div>

            <div id="error" class="error hidden">
                <p id="errorMessage"></p>
                <button id="retryBtn" class="retry-btn">Try Again</button>
            </div>

            <div id="empty" class="empty">
                <p>Enter a stock ticker to see earnings data and trends.</p>
                <p class="examples">Try: AAPL, MSFT, GOOGL, NVDA, AMZN, META</p>
            </div>

            <div id="results" class="hidden">
                <!-- Header with company name -->
                <div class="card company-header">
                    <h2 id="companyName"></h2>
                    <span id="companyTicker" class="ticker"></span>
                </div>

                <!-- Tab Navigation -->
                <div class="tabs">
                    <button class="tab-btn active" data-tab="overview">Overview</button>
                    <button class="tab-btn" data-tab="earnings">Earnings</button>
                    <button class="tab-btn" data-tab="financials">Financials</button>
                    <button class="tab-btn" data-tab="valuation">Valuation</button>
                </div>

                <!-- Tab Content: Overview -->
                <div id="overview" class="tab-content active">
                    <!-- Key Metrics Grid -->
                    <div class="card metrics-overview">
                        <div class="metrics-grid-compact">
                            <div class="metric">
                                <span class="metric-label">Current Price</span>
                                <span id="currentPrice" class="metric-value"></span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Market Cap</span>
                                <span id="marketCap" class="metric-value"></span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">P/E Ratio</span>
                                <span id="peRatio" class="metric-value"></span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Profit Margin</span>
                                <span id="profitMargin" class="metric-value"></span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">ROE</span>
                                <span id="roe" class="metric-value"></span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Beta</span>
                                <span id="beta" class="metric-value"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Price Chart -->
                    <div class="card">
                        <h3>Stock Price History</h3>
                        <canvas id="priceChart" width="800" height="300"></canvas>
                    </div>

                    <!-- All Metrics Detail -->
                    <div class="card">
                        <h4>Detailed Metrics</h4>
                        <div class="metrics-sections">
                            <div class="metrics-row">
                                <div class="metric-item">
                                    <span class="metric-label">52W High</span>
                                    <span id="price52wHigh" class="metric-value"></span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">52W Low</span>
                                    <span id="price52wLow" class="metric-value"></span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Position</span>
                                    <span id="price52wPosition" class="metric-value"></span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Next Earnings</span>
                                    <span id="nextEarnings" class="metric-value"></span>
                                </div>
                            </div>
                            <div class="metrics-row">
                                <div class="metric-item">
                                    <span class="metric-label">Dividend Yield</span>
                                    <span id="dividendYield" class="metric-value"></span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Operating Margin</span>
                                    <span id="operatingMargin" class="metric-value"></span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Debt/Equity</span>
                                    <span id="debtToEquity" class="metric-value"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Earnings -->
                <div id="earnings" class="tab-content">
                    <div class="card">
                        <h3>EPS: Actual vs Estimated</h3>
                        <canvas id="epsChart" width="800" height="350"></canvas>
                    </div>
                </div>

                <!-- Tab Content: Financials -->
                <div id="financials" class="tab-content">
                    <div class="card">
                        <h3>Revenue by Quarter</h3>
                        <canvas id="revenueChart" width="800" height="300"></canvas>
                    </div>
                    <div class="card">
                        <h3>Free Cash Flow</h3>
                        <canvas id="fcfChart" width="800" height="300"></canvas>
                    </div>
                </div>

                <!-- Tab Content: Valuation -->
                <div id="valuation" class="tab-content">
                    <div class="card">
                        <h3>P/E Ratio Over Time</h3>
                        <canvas id="peChart" width="800" height="350"></canvas>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>
